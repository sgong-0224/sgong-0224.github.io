<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>【续集】在关闭HVCI的情况下使用Hyper-V</title>
    <link href="/2023/09/26/HV_without_HVCI/"/>
    <url>/2023/09/26/HV_without_HVCI/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="0-前情提要"><a href="#0-前情提要" class="headerlink" title="0.前情提要"></a>0.前情提要</h1><p>其实这篇攻略很早就做完了，只是因为Hyper-V VID驱动无法启动而一直没发(<del>M$写的什么咖喱</del>)。</p><p>上一篇攻略<a href="https://www.bilibili.com/read/cv22719638/?spm_id_from=333.999.0.0">《如何科学地关闭VBS并与Windows Subsystem全家桶共存》</a>发布后，还是收获了一定的浏览量（草根up不容易:-(），并被转载到站外。但是当时采用的方案不仅操作繁琐，而且存在缺陷——<strong>只适用于下一次引导</strong>，一旦重启，则VBS&#x2F;HVCI又会死灰复燃。这篇文章的思路则是——不完全关闭HVCI，但把它限制在需要的应用上。</p><p><u><strong>重要：继续阅读本文表明读者已经知晓并愿意承担因安全特性缺失引起的风险。</strong></u></p><p><u><strong>重要：继续阅读本文表明读者已经知晓并愿意承担因安全特性缺失引起的风险。</strong></u></p><p><u><strong>重要：继续阅读本文表明读者已经知晓并愿意承担因安全特性缺失引起的风险。</strong></u></p><h1 id="1-操作方法"><a href="#1-操作方法" class="headerlink" title="1.操作方法"></a>1.操作方法</h1><p>该方法适用于Windows 10 1803及之后的所有Windows版本，本文以Windows 11 22H2为例进行讲解。如果你需要WSL、Hyper-V、Windows沙盒等功能但尚未开启，请前往“控制面板-程序和功能-打开或关闭Windows功能”开启。</p><p><u><strong>重要：如果你不知道每一步操作要干什么，请不要继续。</strong></u></p><p><u><strong>重要：如果你不知道每一步操作要干什么，请不要继续。</strong></u></p><p><u><strong>重要：如果你不知道每一步操作要干什么，请不要继续。</strong></u></p><h2 id="步骤1：关闭全局设置"><a href="#步骤1：关闭全局设置" class="headerlink" title="步骤1：关闭全局设置"></a>步骤1：关闭全局设置</h2><p>可以直接使用<code>Windows徽标+S</code>组合键，搜索“安全中心”并打开，随后转到“设备安全性-内核隔离-内核隔离详细信息”，关闭“内存完整性”。</p><img src="/2023/09/26/HV_without_HVCI/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE(9).png" alt="屏幕截图(9)" style="zoom:50%;"><p>转到“应用和浏览器控制-攻击防护-攻击防护设置-系统设置”，把所有选项全部改为“默认关闭”，并重启设备。</p><p>*部分系统版本中，“攻击防护”可能被称作“Exploit Protection”</p><img src="/2023/09/26/HV_without_HVCI/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE(10).png" alt="屏幕截图(10)" style="zoom:50%;"><h2 id="步骤2：添加白名单"><a href="#步骤2：添加白名单" class="headerlink" title="步骤2：添加白名单"></a>步骤2：添加白名单</h2><p>设备重启后，转到“Windows安全中心-应用和浏览器控制-攻击防护-攻击防护设置-程序设置”，点击“添加程序进行自定义-选择准确的文件路径”，添加<code>C:\\Windows\System32\vmcompute.exe</code>，打开“控制流保护”。</p><img src="/2023/09/26/HV_without_HVCI/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE(12).png" alt="屏幕截图(12)" style="zoom: 50%;"><img src="/2023/09/26/HV_without_HVCI/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE(13).png" alt="屏幕截图(13)" style="zoom: 50%;"><p>如果你需要使用Windows Subsystem for Android，那么需要给<code>wsaclient.exe</code>添加白名单。但是由于Windows商店应用所在的<code>C:\\Program Files\WindowsApps</code>目录权限控制严格<strong>（永远不要尝试通过”安全“选项卡的ACL更改该目录或子目录&#x2F;文件的访问权限和所有者，否则商店应用将无法启动!!!）</strong>，需要使用Everything(<a href="https://www.voidtools.com/Everything-1.4.1.1024.x64-Setup.exe">Windows(x86-64体系结构)点此下载</a>)搜索<code>wsaclient.exe</code>并右击打开其路径（文件信息如下所示），然后复制到”程序设置“的选框内。如果提示缺少权限，请根据弹窗提示授权。</p><img src="/2023/09/26/HV_without_HVCI/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE(14).png" alt="屏幕截图(14)" style="zoom:50%;"><p><code>wsaclient.exe</code>的白名单设置如下：</p><img src="/2023/09/26/HV_without_HVCI/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE(15).png" alt="屏幕截图(15)" style="zoom:50%;"><h2 id="步骤3：启动Hyper-V服务"><a href="#步骤3：启动Hyper-V服务" class="headerlink" title="步骤3：启动Hyper-V服务"></a>步骤3：启动Hyper-V服务</h2><p>使用<code>Windows徽标+S</code>组合键，搜索“Services”并打开，将“Hyper-V主机计算服务”的启动类型设为“自动”，然后启动此服务。</p><p>经过上述操作后，Hyper-V相关服务应能正常运行。</p>]]></content>
    
    
    <categories>
      
      <category>技术</category>
      
    </categories>
    
    
    <tags>
      
      <tag>系统优化</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>关于“App备案制”的个人理解</title>
    <link href="/2023/08/13/AppAudit/"/>
    <url>/2023/08/13/AppAudit/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h3 id="新规到底说了什么？"><a href="#新规到底说了什么？" class="headerlink" title="新规到底说了什么？"></a>新规到底说了什么？</h3><p>2023年8月4日，工信部发布<a href="https://wap.miit.gov.cn/jgsj/xgj/wjfb/art/2023/art_dd783a581c9644a4aee10afa582811db.html">《工业和信息化部关于开展移动互联网应用程序备案工作的通知》</a>（下称《通知》），其内容在中国互联网上引发热议。舆论关注的焦点在于以下条文：</p><blockquote><p>二、工作内容</p><p>​（一）在中华人民共和国境内从事互联网信息服务的APP主办者，应当依照《中华人民共和国反电信网络诈骗法》《互联网信息服务管理办法》（国务院令第292号）等规定履行备案手续，未履行备案手续的，不得从事APP互联网信息服务。</p><p>​…………</p><p>​<strong>（九）网络接入服务提供者、分发平台、智能终端生产企业不得为未履行备案手续的APP提供网络接入、分发、预置等服务。</strong></p><p>​（十）APP主办者、网络接入服务提供者、分发平台、智能终端生产企业应当建立健全违法违规信息监测和处置机制，发现法律、  行政法规禁止发布或者传输的信息，应当立即停止传输该信息，采取消除等处置措施，防止信息扩散，保存有关记录，并向电信主管部门报告，依据电信主管部门要求进行处置。</p></blockquote><p>大多数网民都把它误读为“白名单”“限制安装”等要求，其实并没有传闻中的那么可怕(不过还是建议持有谨慎乐观的态度)。我们不妨把新规和网站备案要求做个对比，即现行<a href="https://wap.miit.gov.cn/zcfg/xxtxl/art/2009/art_8237334014394e93886c986170bb31c9.html">《非经营性互联网信息服务备案管理办法》</a>的相关条文：</p><blockquote><p>第五条 </p><p>在中华人民共和国境内提供非经营性互联网信息服务，应当依法履行备案手续。</p><p>未经备案，不得在中华人民共和国境内从事非经营性互联网信息服务。</p><p>本办法所称在中华人民共和国境内提供非经营性互联网信息服务，是指在中华人民共和国境内的组织或个人利用通过互联网域名访问的网站或者利用仅能通过互联网 IP 地址访问的网站，提供非经营性互联网信息服务。</p></blockquote><p>然而现状有些许不同：只要你的服务器架设在境外，就不受工信部的规定监管，即使不备案也不会被轻易屏蔽(除非你发布或传播了非法信息)。因此，《通知》第（一）（十）两条的规定不会造成什么实质性影响。</p><p>不过，我们或许要针对《通知》第九条作出应对。我个人认为，第九条的<strong>三个主体与三个义务是一一对应的</strong>，在构想应对方案时也是基于这个前提，以及上文的现状说明。</p><p>由于Web平台的存在，应用不必通过分发平台进行分发；无法预置应用也和用户自行安装应用没有关系。唯一有些争议的地方就是对“网络接入服务提供者”的要求，然而，在HTTPS普及的今天，运营商完全无法获知应用的包名；何况很多人指出，“网络接入服务提供者”特指为App提供服务器的运营方。<strong>因此，我们只需要担心智能终端生产企业作出更加过分的限制并加以应对。</strong></p><p>在开始之前，顺便建议各位读者对自己的设备环境作出调整。无论对智能手机还是PC，这些调整对更加安全、隐秘的网页浏览都有好处：</p><p>(1)使用支持SSL&#x2F;TLS应用，禁用TLS1.0&#x2F;1.1等过时协议；</p><p>(2)尽量避免使用国内服务商的DNS，如确实无法避免，打开设备上的DoH(DNS over HTTPS)功能开关；</p><p>(3)不要使用身份不明的网络代理；</p><p>(4)不要安装“国家反诈中心”应用；如必要，将其控制在非日常使用的沙箱环境中运行；</p><p>(5)检查系统的根证书设置（Windows系统相关设置见下图，智能终端可忽略此步），避免使用CNNIC等不受信任机构颁发的证书。</p><img src="/2023/08/13/AppAudit/屏幕截图(3020).png" style="zoom: 67%;"><h3 id="怎么应对新规？"><a href="#怎么应对新规？" class="headerlink" title="怎么应对新规？"></a>怎么应对新规？</h3><p>这里仅提供一些应对思路与相关信息，不对具体步骤作出指导。</p><h4 id="Huawei-vivo设备"><a href="#Huawei-vivo设备" class="headerlink" title="Huawei&#x2F;vivo设备"></a>Huawei&#x2F;vivo设备</h4><p>建议更换设备，或谨慎更新到新规后发布的固件版本。这些设备内建无法关闭的检查功能，或者无法离线安装应用。并且这些设备无法通过常规手段获得系统权限，一旦新规正式推行，存在严重的后门隐患——你的应用可能随时被切断网络权限，包名信息可能在不知情的情况下被上报到监管机构。同时，这些设备内建有臭名昭著的<strong>腾讯天御组件</strong>（详见后文）且无法控制其联网，已经有证据表明，该组件会监听用户的输入、安装等操作，并连接位于广东的不明IDC机房进行上报。</p><p>Huawei设备已有存在后门的证据，可参见以下链接：</p><p>【相关链接——Harmony OS的后门】<a href="https://www.zhihu.com/question/524364957/answer/3128218138">https://www.zhihu.com/question/524364957/answer/3128218138</a> </p><h4 id="Mi-Redmi设备"><a href="#Mi-Redmi设备" class="headerlink" title="Mi&#x2F;Redmi设备"></a>Mi&#x2F;Redmi设备</h4><p>众所周知，粗粮设备非常喜欢跟进合规性要求——尽管这不是件好事。MIUI的“应用包管理组件”存在后门——该组件会检查用户安装的应用是否合规。在联网状态下，已有多位试图安装数字货币钱包、境外社交平台以及其他非法应用<u>(甚至是合法应用，比如5G开关和GCam)</u>的用户被禁止安装。同时，MIUI安全组件同样内建<strong>腾讯天御组件</strong>，其监控甚至相较上文提到的Huawei&#x2F;vivo设备更胜一筹——已有用户因为在小米设备上使用境外支付被请喝茶。</p><p>【相关链接——Mi&#x2F;Redmi存在后门的证据】 <a href="https://www.zhihu.com/question/524364957/answer/3089519980">https://www.zhihu.com/question/524364957/answer/3089519980</a> </p><p>不过幸运的是，你可以提前备份自己的数据，然后耐心地等待168小时——这时，你就可以解开OEM锁，然后刷入TWRP和Magisk以获取设备ROOT权限，并<a href="https://www.zhihu.com/question/524364957/answer/3093449683">安装Xposed模块来关闭Antifraud组件</a>（这个组件的名称颇有讽刺意味——它自身就是最大的安全隐患）。</p><h4 id="其他运行中国大陆版固件的国产品牌设备"><a href="#其他运行中国大陆版固件的国产品牌设备" class="headerlink" title="其他运行中国大陆版固件的国产品牌设备"></a>其他运行中国大陆版固件的国产品牌设备</h4><p>虽然目前没有确凿证据证明后门存在，但建议你时刻保持警惕并作出必要的应对措施——比如关闭杀毒软件、禁用系统安全组件的联网。你应该谨慎购买和使用宣称具有“全链路反诈”功能的设备，这些设备更可能泄露用户隐私或跟进监管要求。</p><h4 id="运行中国大陆版固件的Samsung设备"><a href="#运行中国大陆版固件的Samsung设备" class="headerlink" title="运行中国大陆版固件的Samsung设备"></a>运行中国大陆版固件的Samsung设备</h4><p>这类设备内建<strong>腾讯天御组件</strong>，但目前还没有存在后门的记录。不过由于Samsung设备的特性，可以使用Adhell3应用（<a href="./adhell.zip">点此下载</a> ）</p><p>来控制系统组件的联网权限。完成安装后打开应用，然后按下图设置即可。</p><p><img src="/2023/08/13/AppAudit/Screenshot_20230813_170622_Adhell3.jpg" style="zoom: 25%;"><img src="/2023/08/13/AppAudit/Screenshot_20230813_170810_Adhell3.jpg" alt="Screenshot_20230813_170810_Adhell3" style="zoom: 25%;"></p><h4 id="运行中国大陆版固件的其他国际品牌Android设备-运行海外版固件的国际品牌Android设备"><a href="#运行中国大陆版固件的其他国际品牌Android设备-运行海外版固件的国际品牌Android设备" class="headerlink" title="运行中国大陆版固件的其他国际品牌Android设备||运行海外版固件的国际品牌Android设备"></a>运行中国大陆版固件的其他国际品牌Android设备||运行海外版固件的国际品牌Android设备</h4><p>这些品牌向来尊重用户隐私，即使有后门（可能为境外监管机构所用）也不会导致你被找麻烦。</p><h4 id="iOS设备"><a href="#iOS设备" class="headerlink" title="iOS设备"></a>iOS设备</h4><p><strong>Apple ID地区为“中国大陆”的iOS设备是不安全的设备！</strong></p><p><strong>Apple ID地区为“中国大陆”的iOS设备是不安全的设备！</strong></p><p><strong>Apple ID地区为“中国大陆”的iOS设备是不安全的设备！</strong></p><p>如果你已经登入App Store，可以通过更改Apple ID的信息来实现更改地区。推荐更改地区为“美国”——这允许你选择“无”为付款方式。唯一有点困难的地方就是邮编验证，不过你可以使用<a href="https://www.apple.com/retail/">一家苹果直营店的信息</a>完成验证。</p><h4 id="关于腾讯天御组件-Android-Harmony-OS"><a href="#关于腾讯天御组件-Android-Harmony-OS" class="headerlink" title="关于腾讯天御组件(Android&#x2F;Harmony OS)"></a>关于腾讯天御组件(Android&#x2F;Harmony OS)</h4><p>相关动态链接库文件为libTmsdk-[version]-mfr.so。组件会监视用户设备中是否有非法或敏感内容，并将检测结果与手机号码等个人信息一同上报。如果你的设备中并没有安装QQ，且内部存储中出现了</p><p>&#x2F;storage&#x2F;emulated&#x2F;0&#x2F;DCIM&#x2F;.tmfs</p><p>&#x2F;storage&#x2F;emulated&#x2F;0&#x2F;turing.dat</p><p>等文件，请留意是否有可疑软件包含了腾讯天御组件(可用LibChecker等工具查看)。</p>]]></content>
    
    
    <categories>
      
      <category>杂谈</category>
      
    </categories>
    
    
    <tags>
      
      <tag>移动互联网</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>本站介绍</title>
    <link href="/2023/08/12/Introduction/"/>
    <url>/2023/08/12/Introduction/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>这个页面看起来没有多大用处，<del>因为暂时没有太多想写的，所以就用它来充实网站内容</del>。</p><p><strong>TODO:</strong></p><ul><li><p><input checked disabled type="checkbox"> 做个<del>日推</del>不定时更新的歌曲推荐；</p><p><strong>已完成，见顶栏链接</strong></p></li><li><p><input checked disabled type="checkbox"> 接入评论系统；</p><p><strong>已完成，可用GitHub登录</strong></p></li><li><p><input checked disabled type="checkbox"> 建立留言板页面；</p><p><strong>已完成，见顶栏链接；使用方式与其它文章底部评论区相同</strong></p></li><li><p><input disabled type="checkbox"> 找一些头图和背景图；</p></li><li><p><input disabled type="checkbox"> 完善这篇介绍。</p></li></ul><p>(￣▽￣)</p>]]></content>
    
    
    <categories>
      
      <category>杂谈</category>
      
    </categories>
    
    
    <tags>
      
      <tag>README</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
